<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Subscription - ResumeSmartBuild</title>
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="nav container">
            <div class="nav-brand">
                <i class="fas fa-file-alt"></i>
                <span>ResumeSmartBuild</span>
            </div>
            <div class="nav-menu" id="nav-menu">
                <a href="index.html" class="nav-link">Home</a>
                <a href="index.html#tools" class="nav-link">Tools</a>
                <a href="index.html#templates" class="nav-link">Templates</a>
                <a href="articles/index.html" class="nav-link">Articles</a>
                <a href="ats.html" class="nav-link">ATS Scanner</a>
                <a href="premium.html" class="nav-link active">Premium</a>
                <button class="btn-primary" id="login-btn">Login</button>
            </div>
            <div class="nav-toggle" id="nav-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
    </header>

    <!-- Premium Hero Section -->
    <section class="premium-hero">
        <div class="container">
            <div class="premium-hero-content">
                <h1>Unlock Premium Features</h1>
                <p class="premium-subtitle">
                    Get the complete career toolkit with advanced ATS scanning, 
                    AI-powered job matching, and location-based job search.
                </p>
                
                <div class="premium-badge">
                    <i class="fas fa-crown"></i>
                    <span>Premium Subscriber</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Subscription Plans -->
    <section class="subscription-plans">
        <div class="container">
            <h2>Choose Your Plan</h2>
            
            <div class="plans-grid">
                <!-- Free Plan -->
                <div class="plan-card free-plan">
                    <div class="plan-header">
                        <h3>Free</h3>
                        <div class="plan-price">
                            <span class="price">$0</span>
                            <span class="period">forever</span>
                        </div>
                    </div>
                    
                    <div class="plan-features">
                        <ul>
                            <li><i class="fas fa-check"></i> Basic ATS compatibility check</li>
                            <li><i class="fas fa-check"></i> 2 free resume templates</li>
                            <li><i class="fas fa-check"></i> Basic resume builder</li>
                            <li><i class="fas fa-check"></i> Cover letter generator</li>
                            <li><i class="fas fa-check"></i> Email support</li>
                        </ul>
                    </div>
                    
                    <button class="btn-secondary current-plan" disabled>Current Plan</button>
                </div>

                <!-- Premium Plan -->
                <div class="plan-card premium-plan recommended">
                    <div class="plan-badge">Most Popular</div>
                    <div class="plan-header">
                        <h3>Premium</h3>
                        <div class="plan-price">
                            <span class="price">$19.99</span>
                            <span class="period">per month</span>
                        </div>
                    </div>
                    
                    <div class="plan-features">
                        <ul>
                            <li><i class="fas fa-check"></i> <strong>Full ATS compatibility analysis</strong></li>
                            <li><i class="fas fa-check"></i> <strong>Automatic resume optimization</strong></li>
                            <li><i class="fas fa-check"></i> <strong>AI-powered job matching</strong></li>
                            <li><i class="fas fa-check"></i> <strong>Location-based job search</strong></li>
                            <li><i class="fas fa-check"></i> <strong>Work-from-home job finder</strong></li>
                            <li><i class="fas fa-check"></i> All premium resume templates</li>
                            <li><i class="fas fa-check"></i> Unlimited scans and downloads</li>
                            <li><i class="fas fa-check"></i> Industry-specific optimization</li>
                            <li><i class="fas fa-check"></i> Real-time job alerts</li>
                            <li><i class="fas fa-check"></i> Priority customer support</li>
                        </ul>
                    </div>
                    
                    <button class="btn-primary subscribe-btn" data-plan="premium">
                        Subscribe Now
                    </button>
                    
                    <p class="plan-note">
                        Cancel anytime before your next billing date. 
                        No commitment required.
                    </p>
                </div>
            </div>
            
            <!-- PayPal Subscription Container -->
            <div id="paypal-subscription-container" style="display: none; margin-top: 2rem;"></div>
        </div>
    </section>

    <!-- Premium Features Detail -->
    <section class="premium-features-detail">
        <div class="container">
            <h2>Premium Features in Detail</h2>
            
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <h3>Advanced ATS Scanner</h3>
                    <p>
                        Get comprehensive analysis of your resume's ATS compatibility with 
                        detailed scoring, keyword optimization suggestions, and automatic 
                        formatting improvements.
                    </p>
                    <ul class="feature-list">
                        <li>Detailed compatibility scoring</li>
                        <li>Keyword density analysis</li>
                        <li>Format optimization recommendations</li>
                        <li>Industry-specific suggestions</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-magic"></i>
                    </div>
                    <h3>Automatic Optimization</h3>
                    <p>
                        When your resume needs improvements, our system automatically 
                        transfers optimization suggestions to the resume builder for 
                        seamless editing and enhancement.
                    </p>
                    <ul class="feature-list">
                        <li>One-click optimization</li>
                        <li>Smart content suggestions</li>
                        <li>Automated keyword integration</li>
                        <li>Format standardization</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-bullseye"></i>
                    </div>
                    <h3>AI Job Matching</h3>
                    <p>
                        Our AI analyzes your optimized resume and matches you with 
                        relevant job opportunities based on your skills, experience, 
                        and career goals.
                    </p>
                    <ul class="feature-list">
                        <li>Intelligent job recommendations</li>
                        <li>Skill-based matching</li>
                        <li>Experience level filtering</li>
                        <li>Career progression suggestions</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                    <h3>Location-Based Search</h3>
                    <p>
                        Find jobs in your area with customizable search radius settings. 
                        Set your preferred distance and discover opportunities within 
                        your ideal commute range.
                    </p>
                    <ul class="feature-list">
                        <li>Customizable search radius (10-100 miles)</li>
                        <li>GPS-based location detection</li>
                        <li>Manual location input option</li>
                        <li>Distance-based job sorting</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-home"></i>
                    </div>
                    <h3>Remote Work Finder</h3>
                    <p>
                        Access a curated list of work-from-home opportunities that 
                        match your skills and experience. Remote jobs are always 
                        available regardless of your location settings.
                    </p>
                    <ul class="feature-list">
                        <li>Dedicated remote job filtering</li>
                        <li>Global remote opportunities</li>
                        <li>Flexible work arrangements</li>
                        <li>Remote-first companies</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-bell"></i>
                    </div>
                    <h3>Real-Time Job Alerts</h3>
                    <p>
                        Get notified immediately when new jobs matching your criteria 
                        become available. Set up multiple alert profiles for different 
                        types of positions.
                    </p>
                    <ul class="feature-list">
                        <li>Instant email notifications</li>
                        <li>Multiple search profiles</li>
                        <li>Customizable alert frequency</li>
                        <li>Priority job highlights</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Subscription Management -->
    <section class="subscription-management" id="subscription-management" style="display: none;">
        <div class="container">
            <h2>Manage Your Subscription</h2>
            
            <div class="subscription-info">
                <div class="current-plan-info">
                    <h3>Premium Plan</h3>
                    <p class="plan-status active">Active</p>
                    <p class="next-billing">Next billing: <span id="next-billing-date"></span></p>
                </div>
                
                <div class="subscription-actions">
                    <button class="btn-secondary" id="cancel-subscription-btn">
                        Cancel Subscription
                    </button>
                    <button class="btn-primary" id="update-payment-btn">
                        Update Payment Method
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <i class="fas fa-file-alt"></i>
                    <span>ResumeSmartBuild</span>
                </div>
                <div class="footer-links">
                    <a href="index.html">Home</a>
                    <a href="index.html#tools">Tools</a>
                    <a href="index.html#templates">Templates</a>
                    <a href="articles/index.html">Articles</a>
                    <a href="ats.html">ATS Scanner</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 ResumeSmartBuild. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Chatbot Script -->
    <script>
        window.embeddedChatbotConfig = {
            chatbotId: "0n3OR_TmBfnFfKXUGd07Z",
            domain: "www.chatbase.co"
        }
    </script>
    <script src="https://www.chatbase.co/embed.min.js" defer></script>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

    <!-- Scripts -->
    <script src="scripts/script.js"></script>
    <script src="premium_subscription.js"></script>
    
    <script>
        // Premium page specific functionality
        document.addEventListener('DOMContentLoaded', async () => {
            // Check if user is logged in and has subscription
            firebase.auth().onAuthStateChanged(async (user) => {
                if (user) {
                    const hasSubscription = await premiumManager.checkSubscriptionStatus(user.uid);
                    
                    if (hasSubscription) {
                        // Show subscription management
                        document.getElementById('subscription-management').style.display = 'block';
                        
                        // Update current plan button
                        const subscribeBtn = document.querySelector('.subscribe-btn');
                        if (subscribeBtn) {
                            subscribeBtn.textContent = 'Manage Subscription';
                            subscribeBtn.className = 'btn-secondary';
                        }
                        
                        // Show premium badge
                        document.querySelector('.premium-badge').style.display = 'flex';
                    }
                }
            });

            // Handle subscription button clicks
            document.querySelectorAll('.subscribe-btn').forEach(btn => {
                btn.addEventListener('click', async (e) => {
                    const user = firebase.auth().currentUser;
                    
                    if (!user) {
                        showNotification('Please log in to subscribe to premium features.', 'error');
                        return;
                    }

                    const planId = e.target.dataset.plan;
                    
                    try {
                        showLoading(true);
                        
                        // Show PayPal subscription container
                        document.getElementById('paypal-subscription-container').style.display = 'block';
                        e.target.scrollIntoView({ behavior: 'smooth' });
                        
                        // Initialize subscription
                        await premiumManager.createSubscription(planId, user.email);
                        
                    } catch (error) {
                        console.error('Subscription error:', error);
                        showNotification('Failed to start subscription. Please try again.', 'error');
                    } finally {
                        showLoading(false);
                    }
                });
            });

            // Handle subscription cancellation
            document.getElementById('cancel-subscription-btn')?.addEventListener('click', async () => {
                if (confirm('Are you sure you want to cancel your subscription? You will lose access to premium features at the end of your billing period.')) {
                    try {
                        await premiumManager.cancelSubscription();
                    } catch (error) {
                        console.error('Cancellation error:', error);
                    }
                }
            });
        });
    </script>
</body>
</html>