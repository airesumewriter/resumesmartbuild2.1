<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ATS Resume Scanner - ResumeSmartBuild</title>
    <meta name="description" content="Scan your resume for ATS compatibility. Get detailed analysis and optimization suggestions.">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
    
    <!-- External Libraries -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://unpkg.com/scrollreveal@4.0.9/dist/scrollreveal.min.js"></script>
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="styles/style.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <i class="fas fa-file-alt"></i>
                <span>ResumeSmartBuild</span>
            </div>
            <div class="nav-toggle" id="nav-toggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <div class="nav-menu" id="nav-menu">
                <a href="index.html" class="nav-link">Home</a>
                <a href="index.html#tools" class="nav-link">Tools</a>
                <a href="index.html#templates" class="nav-link">Templates</a>
                <a href="articles/index.html" class="nav-link">Articles</a>
                <a href="ats.html" class="nav-link active">ATS Scanner</a>
                <button class="btn-login" id="login-btn">Login</button>
            </div>
        </div>
    </nav>

    <!-- ATS Scanner Page -->
    <section class="ats-page">
        <div class="container">
            <div class="page-header">
                <h1>ATS Resume Scanner</h1>
                <p>Upload your resume and job description to get a detailed compatibility analysis</p>
            </div>

            <div class="ats-container">
                <div class="ats-input-section">
                    <div class="input-card">
                        <h3><i class="fas fa-file-upload"></i> Upload Resume</h3>
                        <div class="file-upload-area" id="resume-upload">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>Drag & drop your resume or click to browse</p>
                            <input type="file" id="resume-file" accept=".pdf,.doc,.docx" hidden>
                            <button class="btn-secondary" onclick="document.getElementById('resume-file').click()">
                                Choose File
                            </button>
                        </div>
                        <div class="text-input-option">
                            <p>Or paste your resume text:</p>
                            <textarea id="resume-text" placeholder="Paste your resume content here..." rows="8"></textarea>
                        </div>
                    </div>

                    <div class="input-card">
                        <h3><i class="fas fa-briefcase"></i> Job Description</h3>
                        <div class="job-info-inputs" style="margin-bottom: 15px;">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                                <div>
                                    <label for="target-job-title" style="display: block; margin-bottom: 5px; font-weight: 500;">Target Job Title:</label>
                                    <input type="text" id="target-job-title" data-autocomplete="job-title" placeholder="e.g., Software Engineer..." style="width: 100%; padding: 8px 12px; border: 1px solid #E5E7EB; border-radius: 6px;">
                                </div>
                                <div>
                                    <label for="target-industry" style="display: block; margin-bottom: 5px; font-weight: 500;">Industry:</label>
                                    <input type="text" id="target-industry" data-autocomplete="industry" placeholder="e.g., Technology..." style="width: 100%; padding: 8px 12px; border: 1px solid #E5E7EB; border-radius: 6px;">
                                </div>
                            </div>
                        </div>
                        <label for="job-description" style="display: block; margin-bottom: 5px; font-weight: 500;">Job Description:</label>
                        <textarea id="job-description" placeholder="Paste the job description here..." rows="10"></textarea>
                    </div>
                </div>

                <!-- Premium Features Toggle -->
                <div class="premium-features-section">
                    <div class="premium-toggle">
                        <label class="premium-switch">
                            <input type="checkbox" id="premium-analysis">
                            <span class="premium-slider"></span>
                        </label>
                        <div class="premium-info">
                            <h4><i class="fas fa-crown"></i> Premium Analysis</h4>
                            <p>Advanced ATS scanning with auto-optimization and job matching</p>
                        </div>
                        <button class="btn-upgrade" id="upgrade-btn" style="display: none;">
                            Upgrade to Premium
                        </button>
                    </div>
                </div>

                <div class="ats-action">
                    <button class="btn-primary" id="analyze-btn">
                        <i class="fas fa-search"></i>
                        Analyze Resume
                    </button>
                </div>

                <div class="ats-results" id="ats-results" style="display: none;">
                    <div class="results-header">
                        <h2>Analysis Results</h2>
                        <div class="overall-score">
                            <div class="score-circle">
                                <span class="score-number" id="overall-score">0</span>
                                <span class="score-label">%</span>
                            </div>
                            <p>ATS Compatibility Score</p>
                        </div>
                    </div>

                    <div class="results-grid">
                        <div class="result-card">
                            <h3><i class="fas fa-key"></i> Keyword Match</h3>
                            <div class="score-bar">
                                <div class="score-fill" id="keyword-score" style="width: 0%"></div>
                                <span class="score-text">0%</span>
                            </div>
                            <div class="keyword-details">
                                <div class="found-keywords">
                                    <h4>Found Keywords:</h4>
                                    <div class="keyword-tags" id="found-keywords"></div>
                                </div>
                                <div class="missing-keywords">
                                    <h4>Missing Keywords:</h4>
                                    <div class="keyword-tags" id="missing-keywords"></div>
                                </div>
                            </div>
                        </div>

                        <div class="result-card">
                            <h3><i class="fas fa-format-align-left"></i> Format Analysis</h3>
                            <div class="format-checks">
                                <div class="check-item">
                                    <i class="fas fa-check-circle"></i>
                                    <span>Standard sections present</span>
                                </div>
                                <div class="check-item">
                                    <i class="fas fa-check-circle"></i>
                                    <span>Contact information clear</span>
                                </div>
                                <div class="check-item">
                                    <i class="fas fa-exclamation-circle"></i>
                                    <span>Skills section optimized</span>
                                </div>
                            </div>
                        </div>

                        <div class="result-card">
                            <h3><i class="fas fa-lightbulb"></i> Recommendations</h3>
                            <ul class="recommendations-list" id="recommendations">
                                <li>Add more relevant keywords from the job description</li>
                                <li>Include quantifiable achievements</li>
                                <li>Optimize skills section with technical keywords</li>
                                <li>Use action verbs to start bullet points</li>
                            </ul>
                        </div>
                    </div>

                    <div class="results-actions">
                        <button class="btn-primary">Download Report</button>
                        <button class="btn-secondary">Optimize Resume</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Chatbot Script -->
    <script>
        window.embeddedChatbotConfig = {
            chatbotId: "0n3OR_TmBfnFfKXUGd07Z",
            domain: "www.chatbase.co"
        }
    </script>
    <script src="https://www.chatbase.co/embed.min.js" defer></script>

    <!-- Custom Scripts -->
    <script src="scripts/autocomplete.js"></script>
    <script src="scripts/script.js"></script>
    <script src="premium_subscription.js"></script>
    
    <script>
        // ATS Scanner specific functionality
        document.addEventListener('DOMContentLoaded', function() {
            const analyzeBtn = document.getElementById('analyze-btn');
            const resultsSection = document.getElementById('ats-results');
            const resumeFile = document.getElementById('resume-file');
            const resumeText = document.getElementById('resume-text');
            const jobDescription = document.getElementById('job-description');

            // File upload handling
            resumeFile.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        // In a real application, you would parse PDF/DOC files
                        // For now, we'll use a placeholder
                        resumeText.value = "Sample resume content extracted from uploaded file...";
                    };
                    reader.readAsText(file);
                }
            });

            // Analyze button click
            analyzeBtn.addEventListener('click', function() {
                const resume = resumeText.value.trim();
                const job = jobDescription.value.trim();

                if (!resume || !job) {
                    alert('Please provide both resume content and job description.');
                    return;
                }

                // Show loading state
                analyzeBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Analyzing...';
                analyzeBtn.disabled = true;

                // Simulate analysis (in real app, this would call an AI service)
                setTimeout(() => {
                    performAnalysis(resume, job);
                    analyzeBtn.innerHTML = '<i class="fas fa-search"></i> Analyze Resume';
                    analyzeBtn.disabled = false;
                }, 2000);
            });

            function performAnalysis(resume, job) {
                // Simple keyword matching simulation
                const jobKeywords = extractKeywords(job);
                const resumeKeywords = extractKeywords(resume);
                
                const foundKeywords = jobKeywords.filter(keyword => 
                    resumeKeywords.some(rk => rk.toLowerCase() === keyword.toLowerCase())
                );
                const missingKeywords = jobKeywords.filter(keyword => 
                    !resumeKeywords.some(rk => rk.toLowerCase() === keyword.toLowerCase())
                );

                const keywordScore = Math.round((foundKeywords.length / jobKeywords.length) * 100);
                const overallScore = Math.max(65, keywordScore + Math.floor(Math.random() * 20));

                // Update UI
                document.getElementById('overall-score').textContent = overallScore;
                document.getElementById('keyword-score').style.width = keywordScore + '%';
                document.querySelector('#keyword-score').nextElementSibling.textContent = keywordScore + '%';

                // Update keyword lists
                const foundKeywordsEl = document.getElementById('found-keywords');
                const missingKeywordsEl = document.getElementById('missing-keywords');

                foundKeywordsEl.innerHTML = foundKeywords.map(kw => 
                    `<span class="keyword-tag found">${kw}</span>`
                ).join('');

                missingKeywordsEl.innerHTML = missingKeywords.slice(0, 10).map(kw => 
                    `<span class="keyword-tag missing">${kw}</span>`
                ).join('');

                // Show results
                resultsSection.style.display = 'block';
                resultsSection.scrollIntoView({ behavior: 'smooth' });
            }

            function extractKeywords(text) {
                // Simple keyword extraction
                const commonWords = ['the', 'and', 'or', 'but', 'in', 'on', 'at', 'to', 'for', 'of', 'with', 'by', 'a', 'an', 'is', 'are', 'was', 'were', 'be', 'been', 'have', 'has', 'had', 'do', 'does', 'did', 'will', 'would', 'could', 'should'];
                
                return text.toLowerCase()
                    .replace(/[^\w\s]/g, ' ')
                    .split(/\s+/)
                    .filter(word => word.length > 2 && !commonWords.includes(word))
                    .filter((word, index, arr) => arr.indexOf(word) === index)
                    .slice(0, 30);
            }
        });
    </script>
</body>
</html>
