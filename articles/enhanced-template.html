<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{TITLE}} - ResumeSmartBuild</title>
    <meta name="description" content="{{META_DESCRIPTION}}">
    <meta name="keywords" content="{{META_KEYWORDS}}">
    <meta name="author" content="{{AUTHOR}}">
    
    <!-- Open Graph Tags -->
    <meta property="og:title" content="{{TITLE}} - ResumeSmartBuild">
    <meta property="og:description" content="{{META_DESCRIPTION}}">
    <meta property="og:image" content="{{FEATURED_IMAGE}}">
    <meta property="og:url" content="https://resumesmartbuild.com/articles/{{SLUG}}">
    <meta property="og:type" content="article">
    
    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{{TITLE}} - ResumeSmartBuild">
    <meta name="twitter:description" content="{{META_DESCRIPTION}}">
    <meta name="twitter:image" content="{{FEATURED_IMAGE}}">
    
    <!-- Schema.org Markup -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "{{TITLE}}",
        "description": "{{META_DESCRIPTION}}",
        "image": "{{FEATURED_IMAGE}}",
        "author": {
            "@type": "Person",
            "name": "{{AUTHOR}}"
        },
        "publisher": {
            "@type": "Organization",
            "name": "ResumeSmartBuild",
            "logo": {
                "@type": "ImageObject",
                "url": "https://resumesmartbuild.com/logo.png"
            }
        },
        "datePublished": "{{DATE_PUBLISHED}}",
        "dateModified": "{{DATE_UPDATED}}",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://resumesmartbuild.com/articles/{{SLUG}}"
        },
        "articleSection": "{{CATEGORY}}",
        "keywords": "{{META_KEYWORDS}}"
    }
    </script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        .content-wrapper { font-family: 'Inter', sans-serif; }
        .article-content h1 { @apply text-4xl font-bold text-gray-900 mb-6 leading-tight; }
        .article-content h2 { @apply text-2xl font-semibold text-gray-800 mb-4 mt-8; }
        .article-content h3 { @apply text-xl font-medium text-gray-700 mb-3 mt-6; }
        .article-content p { @apply mb-6 text-lg leading-relaxed text-gray-700; }
        .article-content ul { @apply list-disc pl-6 space-y-2 text-gray-700 mb-6; }
        .article-content ol { @apply list-decimal pl-6 space-y-2 text-gray-700 mb-6; }
        .article-content blockquote { @apply border-l-4 border-blue-500 pl-6 italic bg-blue-50 p-4 rounded-r mb-6; }
        .article-content code { @apply bg-gray-100 px-2 py-1 rounded text-sm font-mono; }
        .article-content pre { @apply bg-gray-100 p-4 rounded-lg text-sm font-mono overflow-x-auto mb-6; }
        .article-content a { @apply text-blue-600 hover:underline; }
        .sticky-sidebar { position: sticky; top: 2rem; }
        .progress-bar { transition: width 0.3s ease; }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-sm border-b sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <a href="/" class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center">
                        <span class="text-white font-bold text-sm">RS</span>
                    </div>
                    <h1 class="text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">
                        ResumeSmartBuild
                    </h1>
                </a>
                <div class="flex items-center space-x-4">
                    <a href="/articles" class="text-gray-600 hover:text-gray-900">Articles</a>
                    <a href="/#scanner" class="bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors">
                        ATS Scanner
                    </a>
                </div>
            </div>
        </div>
        <!-- Progress Bar -->
        <div class="w-full bg-gray-200 h-1">
            <div id="progressBar" class="progress-bar h-1 bg-gradient-to-r from-blue-600 to-purple-600" style="width: 0%"></div>
        </div>
    </nav>

    <div class="max-w-7xl mx-auto px-4 py-8">
        <div class="grid lg:grid-cols-4 gap-8">
            <!-- Main Article Content -->
            <main class="lg:col-span-3">
                <!-- Article Header -->
                <header class="mb-8">
                    <div class="flex items-center space-x-2 text-sm text-gray-600 mb-4">
                        <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full font-medium">{{CATEGORY}}</span>
                        <span>‚Ä¢</span>
                        <time datetime="{{DATE_PUBLISHED}}">{{DATE_FORMATTED}}</time>
                        <span>‚Ä¢</span>
                        <span>{{READ_time}} min read</span>
                    </div>
                    
                    <h1 class="text-4xl font-bold text-gray-900 mb-4 leading-tight">{{TITLE}}</h1>
                    
                    <p class="text-xl text-gray-600 mb-6">{{EXCERPT}}</p>
                    
                    <div class="flex items-center space-x-4 mb-8">
                        <div class="flex items-center space-x-2">
                            <div class="w-10 h-10 bg-gradient-to-br from-blue-600 to-purple-600 rounded-full flex items-center justify-center">
                                <span class="text-white font-semibold text-sm">{{AUTHOR_INITIALS}}</span>
                            </div>
                            <div>
                                <p class="font-medium text-gray-900">{{AUTHOR}}</p>
                                <p class="text-sm text-gray-600">Career Expert</p>
                            </div>
                        </div>
                        <div class="flex space-x-2">
                            <button class="flex items-center space-x-1 text-gray-600 hover:text-blue-600 transition-colors">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92z"/>
                                </svg>
                                <span class="text-sm">Share</span>
                            </button>
                            <button class="flex items-center space-x-1 text-gray-600 hover:text-red-600 transition-colors">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                                </svg>
                                <span class="text-sm">Save</span>
                            </button>
                        </div>
                    </div>
                    
                    {{#IF FEATURED_IMAGE}}
                    <div class="rounded-xl overflow-hidden mb-8">
                        <img src="{{FEATURED_IMAGE}}" alt="{{TITLE}}" class="w-full h-64 object-cover">
                    </div>
                    {{/IF}}
                </header>

                <!-- Top CTA Block -->
                <div class="bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-lg my-8 text-center">
                    <h3 class="text-xl font-bold mb-2">Want to boost your job chances 300% faster?</h3>
                    <p class="mb-4">Use our Premium Templates and ATS Scanner</p>
                    <a href="/#scanner" class="bg-white text-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors inline-block">
                        Try Free Scanner ‚Üí
                    </a>
                </div>

                {{#IF ADS_ENABLED}}
                <!-- AD SLOT: Top Banner -->
                <div class="bg-gray-100 border-2 border-dashed border-gray-300 p-8 text-center text-gray-500 my-6 rounded-lg">
                    <p class="text-sm">üì± Advertisement</p>
                </div>
                {{/IF}}

                <!-- Article Content -->
                <article class="article-content prose prose-lg max-w-none">
                    {{CONTENT_HTML}}
                </article>

                {{#IF ADS_ENABLED}}
                <!-- AD SLOT: Mid Article -->
                <div class="bg-gray-100 border-2 border-dashed border-gray-300 p-8 text-center text-gray-500 my-8 rounded-lg">
                    <p class="text-sm">üì± Advertisement</p>
                </div>
                {{/IF}}

                <!-- Mid-Article CTA -->
                <div class="bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-lg my-8 text-center">
                    <h3 class="text-xl font-bold mb-2">üîê Unlock Premium Features</h3>
                    <p class="mb-4">Get access to 50+ premium templates, advanced ATS scanning, and personalized feedback</p>
                    <a href="/pricing" class="bg-white text-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors inline-block">
                        Try Premium Free ‚Üí
                    </a>
                </div>

                <!-- Affiliate Recommendation Block -->
                <div class="bg-yellow-50 border border-yellow-200 p-6 rounded-lg my-8">
                    <h3 class="text-lg font-bold text-gray-900 mb-2">üî• Recommended Resource</h3>
                    <p class="text-gray-700 mb-4">Professional Resume Review Service - Get expert feedback from industry professionals</p>
                    <a href="#" class="bg-yellow-500 text-white px-6 py-3 rounded-lg font-semibold hover:bg-yellow-600 transition-colors inline-block">
                        Get Expert Review ‚Üí
                    </a>
                </div>

                <!-- Bottom CTA -->
                <div class="bg-gray-900 text-white p-8 rounded-xl text-center my-8">
                    <h3 class="text-2xl font-bold mb-4">Ready to Build Your Perfect Resume?</h3>
                    <p class="text-gray-300 mb-6">Join thousands of job seekers who've landed their dream jobs with ResumeSmartBuild</p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        <a href="/#scanner" class="bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors">
                            Start ATS Scanner
                        </a>
                        <a href="/templates" class="bg-white text-gray-900 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors">
                            Browse Templates
                        </a>
                    </div>
                </div>

                {{#IF ADS_ENABLED}}
                <!-- AD SLOT: Bottom -->
                <div class="bg-gray-100 border-2 border-dashed border-gray-300 p-8 text-center text-gray-500 my-6 rounded-lg">
                    <p class="text-sm">üì± Advertisement</p>
                </div>
                {{/IF}}
            </main>

            <!-- Sticky Sidebar -->
            <aside class="lg:col-span-1">
                <div class="sticky-sidebar">
                    <!-- Table of Contents -->
                    <div class="bg-white rounded-xl shadow-sm p-6 mb-6">
                        <h3 class="text-lg font-bold text-gray-900 mb-4">Table of Contents</h3>
                        <nav id="tableOfContents" class="space-y-2">
                            <!-- Generated dynamically by JavaScript -->
                        </nav>
                    </div>

                    <!-- Related Articles -->
                    <div class="bg-white rounded-xl shadow-sm p-6 mb-6">
                        <h3 class="text-lg font-bold text-gray-900 mb-4">Related Articles</h3>
                        <div id="relatedArticles" class="space-y-4">
                            <!-- Generated dynamically by JavaScript -->
                        </div>
                    </div>

                    <!-- Newsletter Signup -->
                    <div class="bg-gradient-to-br from-blue-600 to-purple-600 text-white rounded-xl p-6">
                        <h3 class="text-lg font-bold mb-2">Get Career Tips</h3>
                        <p class="text-blue-100 text-sm mb-4">Weekly resume tips and job search strategies</p>
                        <form class="space-y-3">
                            <input type="email" placeholder="Enter your email" 
                                   class="w-full px-3 py-2 rounded-lg text-gray-900 text-sm">
                            <button type="submit" 
                                    class="w-full bg-white text-blue-600 px-4 py-2 rounded-lg font-semibold text-sm hover:bg-gray-100 transition-colors">
                                Subscribe Free
                            </button>
                        </form>
                    </div>
                </div>
            </aside>
        </div>
    </div>

    <script>
        // Reading progress bar
        function updateProgressBar() {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            document.getElementById('progressBar').style.width = scrolled + '%';
        }
        
        window.addEventListener('scroll', updateProgressBar);

        // Generate Table of Contents
        function generateTableOfContents() {
            const headings = document.querySelectorAll('.article-content h2, .article-content h3');
            const toc = document.getElementById('tableOfContents');
            
            headings.forEach((heading, index) => {
                const id = 'heading-' + index;
                heading.id = id;
                
                const link = document.createElement('a');
                link.href = '#' + id;
                link.textContent = heading.textContent;
                link.className = heading.tagName === 'H2' ? 
                    'block text-sm text-gray-600 hover:text-blue-600 py-1' : 
                    'block text-sm text-gray-500 hover:text-blue-600 py-1 pl-4';
                
                toc.appendChild(link);
            });
        }

        // Load related articles
        async function loadRelatedArticles() {
            try {
                const response = await fetch('/api/articles/{{SLUG}}/related');
                if (response.ok) {
                    const articles = await response.json();
                    const container = document.getElementById('relatedArticles');
                    
                    if (articles.length === 0) {
                        container.innerHTML = '<p class="text-gray-500 text-sm">No related articles found</p>';
                        return;
                    }
                    
                    container.innerHTML = articles.map(article => `
                        <a href="/articles/${article.slug}" class="block hover:bg-gray-50 p-2 rounded-lg transition-colors">
                            <h4 class="font-medium text-gray-900 text-sm mb-1">${article.title}</h4>
                            <p class="text-gray-600 text-xs line-clamp-2">${article.excerpt}</p>
                        </a>
                    `).join('');
                }
            } catch (error) {
                console.error('Failed to load related articles:', error);
            }
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            generateTableOfContents();
            loadRelatedArticles();
        });
    </script>
</body>
</html>